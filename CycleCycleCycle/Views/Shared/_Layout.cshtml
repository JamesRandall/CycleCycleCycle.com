<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>CycleCycleCycle - @ViewBag.Title</title>
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/ui.jqgrid.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/jquery-ui-1.8.16.custom.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/SiteExtensions.css")" rel="stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery-1.5.1.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/modernizr-1.7.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/grid.locale-en.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.jqGrid.min.js")" type="text/javascript"></script>
</head>
<body>
@{
    var controllerName = ViewContext.Controller.GetType().Name;
    string action = (string)ViewContext.Controller.ValueProvider.GetValue("action").RawValue;
    var homeClass = (controllerName == "HomeController" && action != "About") ? "active" : "";
    var routeClass = (controllerName == "RouteController") ? "active" : "";
    var aboutClass = (controllerName == "HomeController" && action == "About") ? "active" : "";
    var profileClass = (controllerName == "ProfileController") ? "active" : "";
}
     <header>
        <div class="topbar">
          <div class="container ">
            <h3><a class="logo" href="@Url.Action("Index", "Home")">
                <span>cyclecyclecycle.com</span>
            </a></h3>
            <ul>
              <li class="@homeClass">@Html.ActionLink("Home", "Index", "Home")</li>
              <li class="@routeClass">@Html.ActionLink("Routes", "Index", "Route")</li>
              @if (Request.IsAuthenticated)
              {
                  <li class="@profileClass">@Html.ActionLink("Profile", "Index", "Profile")</li>
              }
              <li class="@aboutClass">@Html.ActionLink("About", "About", "Home")</li>
            </ul>
            <ul class="nav secondary-nav">
                @Html.Partial("_LogOnPartial")
            </ul>
          </div>
        </div>
    </header>
    <section>
        <div class="breaker"></div>
        <div class="container">
            @RenderBody()
        </div>
    </section>
</body>
</html>
